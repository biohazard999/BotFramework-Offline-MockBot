"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectSuggestedAction = exports.default = void 0;

var _glamor = require("glamor");

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SUGGESTED_ACTION_CSS = (0, _glamor.css)({
  display: 'inline-block',
  whiteSpace: 'initial',
  '& > button': {
    display: 'flex'
  }
});

var connectSuggestedAction = function connectSuggestedAction() {
  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(void 0, [function (_ref, _ref2) {
    var disabled = _ref.disabled,
        language = _ref.language,
        onCardAction = _ref.onCardAction;
    var displayText = _ref2.displayText,
        text = _ref2.text,
        type = _ref2.type,
        value = _ref2.value;
    return {
      click: function click() {
        onCardAction({
          displayText: displayText,
          text: text,
          type: type,
          value: value
        });
      },
      disabled: disabled,
      language: language
    };
  }].concat(selectors));
};

exports.connectSuggestedAction = connectSuggestedAction;

var SuggestedAction = function SuggestedAction(_ref3) {
  var buttonText = _ref3.buttonText,
      click = _ref3.click,
      disabled = _ref3.disabled,
      image = _ref3.image,
      styleSet = _ref3.styleSet;
  return _react.default.createElement("div", {
    className: (0, _classnames.default)(styleSet.suggestedAction + '', SUGGESTED_ACTION_CSS + '')
  }, _react.default.createElement("button", {
    disabled: disabled,
    onClick: click,
    type: "button"
  }, image && _react.default.createElement("img", {
    src: image
  }), _react.default.createElement("nobr", null, buttonText)));
};

SuggestedAction.defaultProps = {
  disabled: false,
  image: ''
};
SuggestedAction.propTypes = {
  buttonText: _propTypes.default.string.isRequired,
  click: _propTypes.default.func.isRequired,
  disabled: _propTypes.default.bool,
  image: _propTypes.default.string,
  styleSet: _propTypes.default.shape({
    suggestedAction: _propTypes.default.any.isRequired
  }).isRequired
};

var _default = connectSuggestedAction(function (_ref4) {
  var styleSet = _ref4.styleSet;
  return {
    styleSet: styleSet
  };
})(SuggestedAction);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9TZW5kQm94L1N1Z2dlc3RlZEFjdGlvbi5qcyJdLCJuYW1lcyI6WyJTVUdHRVNURURfQUNUSU9OX0NTUyIsImRpc3BsYXkiLCJ3aGl0ZVNwYWNlIiwiY29ubmVjdFN1Z2dlc3RlZEFjdGlvbiIsInNlbGVjdG9ycyIsImNvbm5lY3RUb1dlYkNoYXQiLCJkaXNhYmxlZCIsImxhbmd1YWdlIiwib25DYXJkQWN0aW9uIiwiZGlzcGxheVRleHQiLCJ0ZXh0IiwidHlwZSIsInZhbHVlIiwiY2xpY2siLCJTdWdnZXN0ZWRBY3Rpb24iLCJidXR0b25UZXh0IiwiaW1hZ2UiLCJzdHlsZVNldCIsInN1Z2dlc3RlZEFjdGlvbiIsImRlZmF1bHRQcm9wcyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJmdW5jIiwiYm9vbCIsInNoYXBlIiwiYW55Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7Ozs7QUFFQSxJQUFNQSxvQkFBb0IsR0FBRyxpQkFBSTtBQUMvQkMsRUFBQUEsT0FBTyxFQUFFLGNBRHNCO0FBRS9CQyxFQUFBQSxVQUFVLEVBQUUsU0FGbUI7QUFJL0IsZ0JBQWM7QUFDWkQsSUFBQUEsT0FBTyxFQUFFO0FBREc7QUFKaUIsQ0FBSixDQUE3Qjs7QUFTQSxJQUFNRSxzQkFBc0IsR0FBRyxTQUF6QkEsc0JBQXlCO0FBQUEsb0NBQUlDLFNBQUo7QUFBSUEsSUFBQUEsU0FBSjtBQUFBOztBQUFBLFNBQzdCQyx5Q0FDRTtBQUFBLFFBQUdDLFFBQUgsUUFBR0EsUUFBSDtBQUFBLFFBQWFDLFFBQWIsUUFBYUEsUUFBYjtBQUFBLFFBQXVCQyxZQUF2QixRQUF1QkEsWUFBdkI7QUFBQSxRQUF5Q0MsV0FBekMsU0FBeUNBLFdBQXpDO0FBQUEsUUFBc0RDLElBQXRELFNBQXNEQSxJQUF0RDtBQUFBLFFBQTREQyxJQUE1RCxTQUE0REEsSUFBNUQ7QUFBQSxRQUFrRUMsS0FBbEUsU0FBa0VBLEtBQWxFO0FBQUEsV0FBK0U7QUFDN0VDLE1BQUFBLEtBQUssRUFBRSxpQkFBTTtBQUNYTCxRQUFBQSxZQUFZLENBQUM7QUFBRUMsVUFBQUEsV0FBVyxFQUFYQSxXQUFGO0FBQWVDLFVBQUFBLElBQUksRUFBSkEsSUFBZjtBQUFxQkMsVUFBQUEsSUFBSSxFQUFKQSxJQUFyQjtBQUEyQkMsVUFBQUEsS0FBSyxFQUFMQTtBQUEzQixTQUFELENBQVo7QUFDRCxPQUg0RTtBQUk3RU4sTUFBQUEsUUFBUSxFQUFSQSxRQUo2RTtBQUs3RUMsTUFBQUEsUUFBUSxFQUFSQTtBQUw2RSxLQUEvRTtBQUFBLEdBREYsU0FRS0gsU0FSTCxFQUQ2QjtBQUFBLENBQS9COzs7O0FBWUEsSUFBTVUsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQjtBQUFBLE1BQUdDLFVBQUgsU0FBR0EsVUFBSDtBQUFBLE1BQWVGLEtBQWYsU0FBZUEsS0FBZjtBQUFBLE1BQXNCUCxRQUF0QixTQUFzQkEsUUFBdEI7QUFBQSxNQUFnQ1UsS0FBaEMsU0FBZ0NBLEtBQWhDO0FBQUEsTUFBdUNDLFFBQXZDLFNBQXVDQSxRQUF2QztBQUFBLFNBQ3RCO0FBQUssSUFBQSxTQUFTLEVBQUUseUJBQVdBLFFBQVEsQ0FBQ0MsZUFBVCxHQUEyQixFQUF0QyxFQUEwQ2xCLG9CQUFvQixHQUFHLEVBQWpFO0FBQWhCLEtBQ0U7QUFBUSxJQUFBLFFBQVEsRUFBRU0sUUFBbEI7QUFBNEIsSUFBQSxPQUFPLEVBQUVPLEtBQXJDO0FBQTRDLElBQUEsSUFBSSxFQUFDO0FBQWpELEtBQ0dHLEtBQUssSUFBSTtBQUFLLElBQUEsR0FBRyxFQUFFQTtBQUFWLElBRFosRUFFRSwyQ0FBT0QsVUFBUCxDQUZGLENBREYsQ0FEc0I7QUFBQSxDQUF4Qjs7QUFTQUQsZUFBZSxDQUFDSyxZQUFoQixHQUErQjtBQUM3QmIsRUFBQUEsUUFBUSxFQUFFLEtBRG1CO0FBRTdCVSxFQUFBQSxLQUFLLEVBQUU7QUFGc0IsQ0FBL0I7QUFLQUYsZUFBZSxDQUFDTSxTQUFoQixHQUE0QjtBQUMxQkwsRUFBQUEsVUFBVSxFQUFFTSxtQkFBVUMsTUFBVixDQUFpQkMsVUFESDtBQUUxQlYsRUFBQUEsS0FBSyxFQUFFUSxtQkFBVUcsSUFBVixDQUFlRCxVQUZJO0FBRzFCakIsRUFBQUEsUUFBUSxFQUFFZSxtQkFBVUksSUFITTtBQUkxQlQsRUFBQUEsS0FBSyxFQUFFSyxtQkFBVUMsTUFKUztBQUsxQkwsRUFBQUEsUUFBUSxFQUFFSSxtQkFBVUssS0FBVixDQUFnQjtBQUN4QlIsSUFBQUEsZUFBZSxFQUFFRyxtQkFBVU0sR0FBVixDQUFjSjtBQURQLEdBQWhCLEVBRVBBO0FBUHVCLENBQTVCOztlQVVlcEIsc0JBQXNCLENBQUM7QUFBQSxNQUFHYyxRQUFILFNBQUdBLFFBQUg7QUFBQSxTQUFtQjtBQUFFQSxJQUFBQSxRQUFRLEVBQVJBO0FBQUYsR0FBbkI7QUFBQSxDQUFELENBQXRCLENBQXlESCxlQUF6RCxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4uL2Nvbm5lY3RUb1dlYkNoYXQnO1xuXG5jb25zdCBTVUdHRVNURURfQUNUSU9OX0NTUyA9IGNzcyh7XG4gIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICB3aGl0ZVNwYWNlOiAnaW5pdGlhbCcsXG5cbiAgJyYgPiBidXR0b24nOiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnXG4gIH1cbn0pO1xuXG5jb25zdCBjb25uZWN0U3VnZ2VzdGVkQWN0aW9uID0gKC4uLnNlbGVjdG9ycykgPT5cbiAgY29ubmVjdFRvV2ViQ2hhdChcbiAgICAoeyBkaXNhYmxlZCwgbGFuZ3VhZ2UsIG9uQ2FyZEFjdGlvbiB9LCB7IGRpc3BsYXlUZXh0LCB0ZXh0LCB0eXBlLCB2YWx1ZSB9KSA9PiAoe1xuICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgb25DYXJkQWN0aW9uKHsgZGlzcGxheVRleHQsIHRleHQsIHR5cGUsIHZhbHVlIH0pO1xuICAgICAgfSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgbGFuZ3VhZ2VcbiAgICB9KSxcbiAgICAuLi5zZWxlY3RvcnNcbiAgKTtcblxuY29uc3QgU3VnZ2VzdGVkQWN0aW9uID0gKHsgYnV0dG9uVGV4dCwgY2xpY2ssIGRpc2FibGVkLCBpbWFnZSwgc3R5bGVTZXQgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhzdHlsZVNldC5zdWdnZXN0ZWRBY3Rpb24gKyAnJywgU1VHR0VTVEVEX0FDVElPTl9DU1MgKyAnJyl9PlxuICAgIDxidXR0b24gZGlzYWJsZWQ9e2Rpc2FibGVkfSBvbkNsaWNrPXtjbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAge2ltYWdlICYmIDxpbWcgc3JjPXtpbWFnZX0gLz59XG4gICAgICA8bm9icj57YnV0dG9uVGV4dH08L25vYnI+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuKTtcblxuU3VnZ2VzdGVkQWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBpbWFnZTogJydcbn07XG5cblN1Z2dlc3RlZEFjdGlvbi5wcm9wVHlwZXMgPSB7XG4gIGJ1dHRvblRleHQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlU2V0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHN1Z2dlc3RlZEFjdGlvbjogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkXG4gIH0pLmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RTdWdnZXN0ZWRBY3Rpb24oKHsgc3R5bGVTZXQgfSkgPT4gKHsgc3R5bGVTZXQgfSkpKFN1Z2dlc3RlZEFjdGlvbik7XG5cbmV4cG9ydCB7IGNvbm5lY3RTdWdnZXN0ZWRBY3Rpb24gfTtcbiJdfQ==