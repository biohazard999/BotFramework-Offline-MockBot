"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = connectivityStatus;

var _connect = require("../actions/connect");

var _reconnect = require("../actions/reconnect");

var _disconnect = require("../../lib/actions/disconnect");

var _sagaError = require("../actions/sagaError");

var DEFAULT_STATE = 'uninitialized';

function connectivityStatus() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_STATE;

  var _ref = arguments.length > 1 ? arguments[1] : undefined,
      type = _ref.type,
      meta = _ref.meta;

  switch (type) {
    case _connect.CONNECT_PENDING:
    case _reconnect.RECONNECT_PENDING:
      if (state !== 'uninitialized') {
        state = 'reconnecting';
      }

      break;

    case _connect.CONNECT_FULFILLED:
      state = 'connected';
      break;

    case _reconnect.RECONNECT_FULFILLED:
      state = 'reconnected';
      break;

    case _connect.CONNECT_REJECTED:
      state = 'error';
      break;

    case _connect.CONNECT_STILL_PENDING:
      state = 'connectingslow';
      break;

    case _disconnect.DISCONNECT_FULFILLED:
      state = meta.error ? 'error' : 'notconnected';
      break;

    case _sagaError.SAGA_ERROR:
      state = 'sagaerror';
      break;

    default:
      break;
  }

  return state;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZWR1Y2Vycy9jb25uZWN0aXZpdHlTdGF0dXMuanMiXSwibmFtZXMiOlsiREVGQVVMVF9TVEFURSIsImNvbm5lY3Rpdml0eVN0YXR1cyIsInN0YXRlIiwidHlwZSIsIm1ldGEiLCJDT05ORUNUX1BFTkRJTkciLCJSRUNPTk5FQ1RfUEVORElORyIsIkNPTk5FQ1RfRlVMRklMTEVEIiwiUkVDT05ORUNUX0ZVTEZJTExFRCIsIkNPTk5FQ1RfUkVKRUNURUQiLCJDT05ORUNUX1NUSUxMX1BFTkRJTkciLCJESVNDT05ORUNUX0ZVTEZJTExFRCIsImVycm9yIiwiU0FHQV9FUlJPUiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUVBOztBQUNBOztBQUVBLElBQU1BLGFBQWEsR0FBRyxlQUF0Qjs7QUFFZSxTQUFTQyxrQkFBVCxHQUFtRTtBQUFBLE1BQXZDQyxLQUF1Qyx1RUFBL0JGLGFBQStCOztBQUFBO0FBQUEsTUFBZEcsSUFBYyxRQUFkQSxJQUFjO0FBQUEsTUFBUkMsSUFBUSxRQUFSQSxJQUFROztBQUNoRixVQUFRRCxJQUFSO0FBQ0UsU0FBS0Usd0JBQUw7QUFDQSxTQUFLQyw0QkFBTDtBQUNFLFVBQUlKLEtBQUssS0FBSyxlQUFkLEVBQStCO0FBQzdCQSxRQUFBQSxLQUFLLEdBQUcsY0FBUjtBQUNEOztBQUVEOztBQUVGLFNBQUtLLDBCQUFMO0FBQ0VMLE1BQUFBLEtBQUssR0FBRyxXQUFSO0FBQ0E7O0FBRUYsU0FBS00sOEJBQUw7QUFDRU4sTUFBQUEsS0FBSyxHQUFHLGFBQVI7QUFDQTs7QUFFRixTQUFLTyx5QkFBTDtBQUNFUCxNQUFBQSxLQUFLLEdBQUcsT0FBUjtBQUNBOztBQUVGLFNBQUtRLDhCQUFMO0FBQ0VSLE1BQUFBLEtBQUssR0FBRyxnQkFBUjtBQUNBOztBQUVGLFNBQUtTLGdDQUFMO0FBQ0VULE1BQUFBLEtBQUssR0FBR0UsSUFBSSxDQUFDUSxLQUFMLEdBQWEsT0FBYixHQUF1QixjQUEvQjtBQUNBOztBQUVGLFNBQUtDLHFCQUFMO0FBQ0VYLE1BQUFBLEtBQUssR0FBRyxXQUFSO0FBQ0E7O0FBRUY7QUFDRTtBQWxDSjs7QUFxQ0EsU0FBT0EsS0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09OTkVDVF9GVUxGSUxMRUQsIENPTk5FQ1RfUEVORElORywgQ09OTkVDVF9SRUpFQ1RFRCwgQ09OTkVDVF9TVElMTF9QRU5ESU5HIH0gZnJvbSAnLi4vYWN0aW9ucy9jb25uZWN0JztcblxuaW1wb3J0IHsgUkVDT05ORUNUX1BFTkRJTkcsIFJFQ09OTkVDVF9GVUxGSUxMRUQgfSBmcm9tICcuLi9hY3Rpb25zL3JlY29ubmVjdCc7XG5cbmltcG9ydCB7IERJU0NPTk5FQ1RfRlVMRklMTEVEIH0gZnJvbSAnLi4vLi4vbGliL2FjdGlvbnMvZGlzY29ubmVjdCc7XG5pbXBvcnQgeyBTQUdBX0VSUk9SIH0gZnJvbSAnLi4vYWN0aW9ucy9zYWdhRXJyb3InO1xuXG5jb25zdCBERUZBVUxUX1NUQVRFID0gJ3VuaW5pdGlhbGl6ZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25uZWN0aXZpdHlTdGF0dXMoc3RhdGUgPSBERUZBVUxUX1NUQVRFLCB7IHR5cGUsIG1ldGEgfSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIENPTk5FQ1RfUEVORElORzpcbiAgICBjYXNlIFJFQ09OTkVDVF9QRU5ESU5HOlxuICAgICAgaWYgKHN0YXRlICE9PSAndW5pbml0aWFsaXplZCcpIHtcbiAgICAgICAgc3RhdGUgPSAncmVjb25uZWN0aW5nJztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIENPTk5FQ1RfRlVMRklMTEVEOlxuICAgICAgc3RhdGUgPSAnY29ubmVjdGVkJztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBSRUNPTk5FQ1RfRlVMRklMTEVEOlxuICAgICAgc3RhdGUgPSAncmVjb25uZWN0ZWQnO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIENPTk5FQ1RfUkVKRUNURUQ6XG4gICAgICBzdGF0ZSA9ICdlcnJvcic7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgQ09OTkVDVF9TVElMTF9QRU5ESU5HOlxuICAgICAgc3RhdGUgPSAnY29ubmVjdGluZ3Nsb3cnO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIERJU0NPTk5FQ1RfRlVMRklMTEVEOlxuICAgICAgc3RhdGUgPSBtZXRhLmVycm9yID8gJ2Vycm9yJyA6ICdub3Rjb25uZWN0ZWQnO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNBR0FfRVJST1I6XG4gICAgICBzdGF0ZSA9ICdzYWdhZXJyb3InO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4iXX0=